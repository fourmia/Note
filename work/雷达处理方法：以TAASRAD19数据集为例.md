<!--
 * @Author: LiZedong <15516926476@163.com>
 * @Date: 2022-02-17 10:37:13
 * @LastEditors: LiZedong <15516926476@163.com>
 * @LastEditTime: 2022-02-23 13:43:50
 * @FilePath: \A个人笔记\work\TAASRAD19.md
-->
数据集介绍:[TAASRAD19](https://www.nature.com/articles/s41597-020-0574-8)

数据集包含内容:
  + 广泛降水事件的雷达序列: 1732个序列，362233个时间步长(包含极端降水、异常大雨、长时间降雪、局部冰雹)
  + 降水分类注释(包含一个csv格式的降水描述,其应视为弱标签(即不完整，不准确的标签))

技术验证方案: UMAP降维方法

采用的数据描述:MAX(Z) --> 预定义网格每个像素的最大值(可能会引入噪声影响，但在山区环境下其由于CAPPI,MAX(Z)有助于缓解雷达在低仰角扫描遇到的严重波束阻挡)

TAASRAD19临近预报模型：
  + 序列提取:从完整图像存储库中获取连续和标记的降水序列
    + 数据选择：为了避免季节失衡，选择$2010/11/01 - 2019/10/31$数据
    + 数据分块：时间步长在一天内被分为多个时间帧块，仅保留超过两小时的块
    + 序列过滤：删除没有或仅有微降水的序列，采用基于块的平均像素值$APV$及对应日期的弱标签选择策略
      + $APV < 0.5 dBZ$的序列被丢弃，$APV > 1.0 dBZ$的序列被保留，通过此方式可以过滤掉仅有背景噪声的序列，并保留仅有一种降水模式的序列
      + 接着利用从每日摘要中注释的弱标签来识别具有对应降水时间的序列，没有序列的标签则该日期没有降水记录，该序列被丢弃
    + 序列标记：所有保留序列都尽可能根据每日摘要中的弱标签进行标记
  + 降噪：减少MAX(Z)产品中的噪音和系统伪影
    + 噪声分析: 对每个增加$APV$(从最少雨到最多雨)的每个时间步进行排名，考虑排名前的$0.1$%计算背景噪声，噪声图作为少雨帧的平均值(每像素)生成，这对应于通过数据集在不同时间采样的晴空条件。 在$TAASRAD19$中计算出的噪声图与数字地形模型重叠，因此表明存在系统伪影
    + 异常值掩码：采用马氏距离来构造掩码

  + 技术验证: 深度学习预测和UMAP分析
    + 每个序列时间上必须连续，足够长时间
    + 每个序列至少包含一帧有降水，去除无降水的序列
    + 整套序列在季节及降水类型应当与原始数据匹配
    + 序列尽可能去除系统噪声及伪影

TAASRAD19 统计性描述情况

|name| number|
| :--: | :--: |
| Total number of time steps |  $894916$ |
| Total number of recorded days | $3292$ |
|Minimum-Maximum pixel values | $0-52.5$ |
|Minimum-Maximum frame mean pixel values| $4.5*10^{-4} - 32.3$ |
| Radar operativity between Jun 2010 and Dec 2019| $89.55$% |

统计性描述反应的问题:

  + 平均像素值范围:即使在晴空条件下，最小平均像素值也不为0，这表明存在噪声

<font color='green'>自己先前处理与本论文的异同</font>：
+ 相异之处
  + 未叠加地形数据信息进行分析
  + 未采用马氏距离分析异常值掩码
  + 自己采用多通道(不同高度层)**CAPPI**作为模型输入，论文中将不同高度层计算，采用得到的(MAX Z)作为输入
  + 自己采用喂入数据形式是基于块进行处理的，论文中的是基于移动窗口策略提取的(自己是小时雷达观测，对应该小时时况格点降水，进行降水估测任务；论文中则是采用前25分钟推算后100分钟，为外推任务。)
  + 任务目的不同，因此在进行数据筛选的时候采用的是计算实况融合降水与雷达回波的IOU分数，来达到样本匹配和有降水雷达的筛选；而在论文中是根据雷达回波转换的降水量大小，和整个序列的降水情况。

+ 相同之处
  + 采用了时空卷积模型结构
  + 均对降水情况进行了讨论
  + 采用了一致的损失函数，即MAE\MSE加权动态损失

<font color='red'>尚未解决的问题</font>：
+ 异常值掩码：针对论文中**马氏距离**的计算不太了解，<font color='yellow'>论文的主要处理思想是：根据像素值随着时间分布之间的距离来测量生成整个全局掩码。</font>针对其提出的$N=526$bins x，没有理解其含义







